

CREATE TABLE HRIS_CUSTOMER
  (
    CUSTOMER_ID         NUMBER(7,0) PRIMARY KEY,
    CUSTOMER_CODE       VARCHAR2(15 BYTE),
    CUSTOMER_ENAME      VARCHAR2(150 BYTE) NOT NULL,
    CUSTOMER_LNAME      VARCHAR2(150 BYTE),
    ADDRESS             VARCHAR2(150 BYTE),
    PHONE_NO            VARCHAR2(30 BYTE),
    CONTACT_PERSON_NAME VARCHAR2(150 BYTE),
    CREATED_BY          NUMBER(7,0) ,
    CREATED_DT          DATE DEFAULT TRUNC(SYSDATE),
    MODIFIED_BY         NUMBER(7,0),
    MODIFIED_DT         DATE,
    REMARKS             VARCHAR2(512 BYTE),
    STATUS              CHAR(1 BYTE) DEFAULT 'E' NOT NULL CHECK(STATUS IN ('E','D'))
  );
--
CREATE TABLE HRIS_CUST_CONTRACT_WEEKDAYS
  (
    CONTRACT_ID NUMBER(7,0) NOT NULL,
    WEEKDAY     NUMBER(1,0) NOT NULL,
    CONSTRAINT CUSTOMER_CONTRACT_WEEKDAYS_FK FOREIGN KEY(CONTRACT_ID) REFERENCES HRIS_CUSTOMER_CONTRACT(CONTRACT_ID)
  );

CREATE TABLE HRIS_CUST_CONTRACT_MONTHDAYS
  (
    CONTRACT_ID NUMBER(7,0) NOT NULL,
    MONTHDAY    NUMBER(2,0) NOT NULL,
    CONSTRAINT CUSTOMER_CONTRACT_MONTHDAYS_FK FOREIGN KEY(CONTRACT_ID) REFERENCES HRIS_CUSTOMER_CONTRACT(CONTRACT_ID)
  );
  
CREATE TABLE HRIS_CUST_CONTRACT_DATES
  (
    CONTRACT_ID  NUMBER(7,0) NOT NULL,
    MANUAL_DATE DATE NOT NULL,
    CONSTRAINT CUSTOMER_CONTRACT_DATES_FK FOREIGN KEY(CONTRACT_ID) REFERENCES HRIS_CUSTOMER_CONTRACT(CONTRACT_ID)
  );
  
CREATE TABLE HRIS_CUSTOMER_CONTRACT
  (
    CONTRACT_ID NUMBER(7,0) PRIMARY KEY,
    CUSTOMER_ID NUMBER(7,0) NOT NULL,
    START_DATE  DATE NOT NULL,
    END_DATE    DATE NOT NULL,
    IN_TIME     TIMESTAMP NOT NULL,
    OUT_TIME    TIMESTAMP NOT NULL,
    WORKING_HOURS FLOAT(126) NOT NULL,
    WORKING_CYCLE CHAR(1 BYTE) NOT NULL CHECK(WORKING_CYCLE IN ('W','M','R')),
    CHARGE_TYPE   CHAR(1 BYTE) NOT NULL CHECK(CHARGE_TYPE   IN ('H','D','W','M')),
    CHARGE_RATE   NUMBER(8,2),
    CREATED_BY    NUMBER(7,0) ,
    CREATED_DT    DATE DEFAULT TRUNC(SYSDATE),
    MODIFIED_BY   NUMBER(7,0),
    MODIFIED_DT   DATE,
    REMARKS       VARCHAR2(512 BYTE),
    STATUS        CHAR(1 BYTE) DEFAULT 'E' NOT NULL CHECK(STATUS IN ('E','D')),
    CONSTRAINT CUSTOMER_CONTRACT_FK FOREIGN KEY(CUSTOMER_ID) REFERENCES HRIS_CUSTOMER(CUSTOMER_ID)
  );
--

CREATE TABLE HRIS_CUST_CONTRACT_EMP
  (
    CONTRACT_ID     NUMBER(7,0) NOT NULL,
    EMPLOYEE_ID     NUMBER(7,0) NOT NULL,
    START_DATE      DATE NOT NULL,
    END_DATE        DATE NOT NULL,
    ASSIGNED_DATE     DATE NOT NULL,
    OLD_EMPLOYEE_ID NUMBER(7,0),
    CONSTRAINT CUSTOMER_CONTRACT_EMPLOYEES_FK FOREIGN KEY(CONTRACT_ID) REFERENCES HRIS_CUSTOMER_CONTRACT(CONTRACT_ID)
  );


--menu insert quries

INSERT INTO HRIS_MENUS
(MENU_ID,
MENU_NAME,
PARENT_MENU,
ROUTE,
STATUS,
CREATED_DT,
ICON_CLASS,
ACTION,
MENU_INDEX,
IS_VISIBLE)
VALUES
((SELECT MAX(MENU_ID)+1 FROM HRIS_MENUS),
'customer',
NULL,
'javascript::',
'E',
TRUNC(SYSDATE),
'fa fa-pencil',
'index',
(select max(menu_index)+1 from hris_menus where parent_menu is null),
'Y'
);



INSERT INTO HRIS_MENUS
(MENU_ID,
MENU_NAME,
PARENT_MENU,
ROUTE,
STATUS,
CREATED_DT,
ICON_CLASS,
ACTION,
MENU_INDEX,
IS_VISIBLE)
VALUES
((SELECT MAX(MENU_ID)+1 FROM HRIS_MENUS),
'customer Setup',
342,
'customer-setup',
'E',
TRUNC(SYSDATE),
'fa fa-pencil',
'index',
(select nvl(max(menu_index),0)+1 from hris_menus where parent_menu=342),
'Y'
);


select * from hris_menus;


INSERT INTO HRIS_MENUS
(MENU_ID,
MENU_NAME,
PARENT_MENU,
ROUTE,
STATUS,
CREATED_DT,
ICON_CLASS,
ACTION,
MENU_INDEX,
IS_VISIBLE)
VALUES
((SELECT MAX(MENU_ID)+1 FROM HRIS_MENUS),
'customer Contract',
342,
'customer-contract',
'E',
TRUNC(SYSDATE),
'fa fa-pencil',
'index',
(select nvl(max(menu_index),0)+1 from hris_menus where parent_menu=342),
'Y'
);



CREATE TABLE HRIS_WAGED_EMPLOYEE(
EMPLOYEE_ID NUMBER(7,0) NOT NULL,
EMPLOYEE_CODE NUMBER(7,0),
FIRST_NAME VARCHAR2(255) NOT NULL,
MIDDLE_NAME VARCHAR2(255) NOT NULL,
LAST_NAME VARCHAR2(255) NOT NULL,
FULL_NAME VARCHAR(255),
GENDER_ID NUMBER(7,0) NOT NULL,
BLOOD_GROUP_ID NUMBER(7,0),
MOBILE_NO VARCHAR2(255) NOT NULL,
TELEPHONE_NO VARCHAR2(255),
EMAIL VARCHAR2(255),
ADDR_PERM_DISTRICT_ID NUMBER(7,0),     
ADDR_PERM_ZONE_ID NUMBER(7,0),     
ADDR_TEMP_DISTRICT_ID NUMBER(7,0),     
ADDR_TEMP_ZONE_ID NUMBER(7,0),     
ID_CITIZENSHIP_NO  VARCHAR2(50),  
ID_CITIZENSHIP_ISSUE_DATE DATE,          
ID_CITIZENSHIP_ISSUE_PLACE VARCHAR2(255),
STATUS CHAR(1 BYTE) DEFAULT 'E' NOT NULL,
CREATED_BY NUMBER(7,0),
CREATED_DT DATE DEFAULT TRUNC(SYSDATE) NOT NULL,
MODIFIED_BY NUMBER(7,0),
MODIFIED_DT DATE,
REMARKS VARCHAR2(255)
);


INSERT INTO HRIS_MENUS
(MENU_ID,
MENU_NAME,
PARENT_MENU,
ROUTE,
STATUS,
CREATED_DT,
ICON_CLASS,
ACTION,
MENU_INDEX,
IS_VISIBLE)
VALUES
((SELECT MAX(MENU_ID)+1 FROM HRIS_MENUS),
'Waged Employee',
342,
'customer-waged-employee',
'E',
TRUNC(SYSDATE),
'fa fa-pencil',
'index',
(select nvl(max(menu_index),0)+1 from hris_menus where parent_menu=342),
'Y'
);