BEGIN
  FOR cur_rec IN
  (SELECT object_name,
    object_type
  FROM user_objects
  WHERE object_type = 'TABLE' AND object_name IN('HRIS_COMPANY','HRIS_BRANCHES','HRIS_DEPARTMENTS','HRIS_DESIGNATIONS','HRIS_POSITIONS')
  )
  LOOP
    BEGIN
       EXECUTE IMMEDIATE 'ALTER ' || cur_rec.object_type || ' "' || cur_rec.object_name || '" MODIFY CREATED_BY NUMBER(7,0) NULL';
    EXCEPTION
    WHEN OTHERS THEN
      DBMS_OUTPUT.put_line ( 'FAILED: DROP ' || cur_rec.object_type || ' "' || cur_rec.object_name || '"' );
    END;
  END LOOP;
END;

-- SQL SCRIPT RUN ON HRIS,JWL_HRIS_APR5

ALTER TABLE HRIS_DESIGNATIONS MODIFY CREATED_DT DATE DEFAULT SYSDATE ;

ALTER TABLE HRIS_DESIGNATIONS MODIFY BASIC_SALARY NUMBER(9,0) NULL;

ALTER TABLE HRIS_POSITIONS MODIFY CREATED_DT DATE DEFAULT SYSDATE;

-- SQL SCRIPT RUN ON JWL_HRIS_APR5


ALTER TABLE HRIS_EMPLOYEES ADD CREATED_BY NUMBER(7,0);

ALTER TABLE HRIS_EMPLOYEES ADD MODIFIED_BY NUMBER(7,0);

ALTER TABLE HRIS_EMPLOYEES ADD MODIFIED_DT DATE;

ALTER TABLE HRIS_EMPLOYEES ADD CONSTRAINT EMP_EMP_FK_1 FOREIGN KEY(CREATED_BY) REFERENCES HRIS_EMPLOYEES(EMPLOYEE_ID);

ALTER TABLE HRIS_EMPLOYEES ADD CONSTRAINT EMP_EMP_FK_2 FOREIGN KEY(MODIFIED_BY) REFERENCES HRIS_EMPLOYEES(EMPLOYEE_ID);

-- SQL SCRIPT RUN ON JWL_HRIS_APR5
