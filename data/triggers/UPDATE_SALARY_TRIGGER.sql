create or replace TRIGGER UPDATE_SALARY_TRIGGER BEFORE
  INSERT ON HRIS_SALARY_DETAIL FOR EACH ROW BEGIN
  UPDATE HRIS_EMPLOYEES
  SET SALARY       =:new.NEW_AMOUNT
  WHERE EMPLOYEE_ID=:new.EMPLOYEE_ID;
  UPDATE HRIS_SALARY_DETAIL SD
  SET SD.STATUS         ='D'
  WHERE SD.EMPLOYEE_ID  =:new.EMPLOYEE_ID
  AND SD.EFFECTIVE_DATE < :new.EFFECTIVE_DATE;
END;